# SRE 助理代理的系統模式

## 系統如何建置

SRE 助理代理使用模組化架構建置，包含以下元件：

1. **代理框架**：使用 Google 的代理開發套件 (ADK) 來處理對話式介面和自然語言處理。

2. **代理階層**：
   - `root_agent`：所有互動的進入點
   - `sre_agent`：一個基於 LLM 的代理，處理一般的 SRE 查詢
   - `kubernetes_agent`：一個專門用於 Kubernetes 操作的代理

3. **工具系統**：功能被組織成實作特定操作的工具模組：
   - `kube_tools.py`：包含與 Kubernetes 叢集互動的函式

4. **公用程式函式**：常見的輔助函式被組織在 `utils.py` 中

## 關鍵技術決策

1. **Google ADK**：專案使用 Google 的代理開發套件來建置對話式代理，利用 Gemini 模型進行自然語言理解。

2. **Kubernetes 客戶端**：使用官方的 Kubernetes Python 客戶端與 Kubernetes 叢集互動，提供一個可靠且維護良好的介面。

3. **模組化工具設計**：工具根據功能被組織成獨立的模組，使程式碼庫更易於維護和擴展。

4. **子代理架構**：使用專門的子代理允許對不同類型的查詢進行領域特定的處理。

## 架構模式

1. **基於工具的代理模式**：代理透過一組註冊在代理框架中的工具來公開功能。

2. **階層式代理結構**：一個主代理根據查詢類型將任務委派給專門的子代理。

3. **功能性 API 設計**：Kubernetes 操作被公開為具有清晰輸入和輸出的純函式。

4. **設定載入**：從預設位置載入 Kubernetes 設定，允許代理使用與使用者相同的驗證。

5. **錯誤處理**：捕捉 API 異常並將其格式化為使用者友善的錯誤訊息。

6. **資源抽象化**：將 Kubernetes 資源抽象化為簡單的資料結構（字典和列表），以便代理更容易使用並呈現給使用者。
